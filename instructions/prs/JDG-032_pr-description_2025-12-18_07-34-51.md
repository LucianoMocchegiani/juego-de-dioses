# feat: Migrar estructura de animaciones a biped/ y mejorar interfaz de debugger

## Resumen

Actualiza las rutas de animaciones en el frontend para usar la estructura organizada en `biped/` en lugar de la ra√≠z, y mejora la interfaz de debugger (F6) con una vista jer√°rquica que muestra las animaciones agrupadas por carpetas. Las animaciones ya estaban organizadas en `biped/`, solo se actualizaron las rutas y la visualizaci√≥n.

## Motivaci√≥n

Las animaciones estaban duplicadas: exist√≠an tanto en la ra√≠z de `backend/static/models/animations/` como organizadas dentro de `biped/` por categor√≠as. Las rutas en el frontend apuntaban a las copias de la ra√≠z, y la interfaz de debugger mostraba una lista plana sin reflejar la organizaci√≥n existente. Esto causaba confusi√≥n sobre qu√© versi√≥n usar y dificultaba encontrar animaciones espec√≠ficas.

## Criterios de Aceptaci√≥n

- [x] El archivo `animation-config.js` ha sido actualizado con las nuevas rutas (ej: `'animations/biped/sword/Animation_XXX_withSkin.glb'`)
- [x] La interfaz de debugger (F6) muestra las animaciones agrupadas por carpetas con una vista jer√°rquica
- [x] Las animaciones sin categorizar aparecen en una secci√≥n "Sin categorizar" en el debugger
- [ ] Todas las animaciones duplicadas de la ra√≠z han sido eliminadas (requiere acci√≥n manual despu√©s de verificar)
- [ ] El sistema de carga funciona correctamente con las nuevas rutas (requiere testing en el juego)
- [ ] No hay errores de carga de animaciones (requiere testing en el juego)
- [ ] Todas las animaciones existentes siguen funcionando correctamente (requiere testing en el juego)

## Cambios T√©cnicos

### Frontend

**`frontend/src/config/animation-config.js`:**
- Actualizadas todas las rutas en `ANIMATION_FILES` para apuntar a la estructura organizada en `biped/`
- Rutas ahora incluyen la categor√≠a correspondiente (ej: `'animations/biped/sword/Animation_Left_Slash_withSkin.glb'`)
- Organizadas por categor√≠as: sword, two-hand-sword, movement, idle, hit-reactions, interactions, skills, axe, two-hand-axe, two-hand-hammer, two-swords, spear, hammer, shield, cuffs, secondary-interactions

**`frontend/src/debug/ui/animation-tester.js`:**
- Agregado m√©todo `organizeAnimationsByFolder()` para extraer estructura de carpetas de las rutas
- Agregado m√©todo `createFolderItem()` para crear carpetas expandibles/colapsables
- Modificado `renderAnimationList()` para mostrar vista jer√°rquica organizada por carpetas
- B√∫squeda mejorada para incluir filtrado por nombre de carpeta
- Secci√≥n "Sin categorizar" para animaciones que no est√°n en `biped/`
- Carpetas ordenadas alfab√©ticamente
- Estado de expansi√≥n de carpetas se mantiene durante b√∫squedas

**Documentaci√≥n actualizada:**
- `frontend/src/config/README.md`: Menciona que las rutas apuntan a la estructura organizada en `biped/`
- `frontend/src/debug/ui/README.md`: Agregada documentaci√≥n de `AnimationTester` con caracter√≠sticas y uso
- `frontend/src/debug/README.md`: Agregado `animation-tester.js` a la estructura de archivos

## Testing

- [x] Verificado que no hay errores de sintaxis en los archivos modificados
- [ ] Probado localmente con Docker Compose (requiere ejecutar el juego)
- [ ] Verificado que todas las animaciones se cargan correctamente con las nuevas rutas
- [ ] Verificado que la interfaz de debugger (F6) muestra correctamente la estructura jer√°rquica
- [ ] Verificado que las animaciones funcionan correctamente durante gameplay
- [ ] Verificado que la b√∫squeda funciona por nombre, archivo y carpeta

## Screenshots/Demo

La interfaz de debugger (F6) ahora muestra:
- Carpetas organizadas por categor√≠as con iconos expandibles (üìÅ/üìÇ)
- N√∫mero de animaciones por carpeta
- Secci√≥n "Sin categorizar" para animaciones en la ra√≠z
- B√∫squeda mejorada que filtra por nombre, archivo o carpeta

## Referencias

- Ticket: JDG-032
- Plan de acci√≥n: `instructions/tasks/JDG-032-action-plan_2025-12-18_07-16-14.md`
- An√°lisis de arquitectura: `instructions/analysis/JDG-032-architecture-analysis_2025-12-17_19-14-17.md`

## Deployment

### Cambios Requeridos

- [ ] Rebuild Docker images (si aplica)
- [ ] Reiniciar servicios Docker (si aplica)
- [ ] Eliminar archivos duplicados de `backend/static/models/animations/` (acci√≥n manual despu√©s de verificar que todo funciona)

### Verificaci√≥n Post-Deployment

- [ ] Verificar que todas las animaciones se cargan correctamente
- [ ] Verificar interfaz de debugger (F6) muestra estructura jer√°rquica
- [ ] Verificar que no hay errores en consola del navegador
- [ ] Verificar animaciones funcionan en el juego
- [ ] Verificar b√∫squeda funciona correctamente

## Notas Adicionales

- Las animaciones ya estaban organizadas en `biped/`, solo se actualizaron las rutas en el frontend
- La eliminaci√≥n de duplicados de la ra√≠z debe hacerse manualmente despu√©s de verificar que todo funciona correctamente
- El sistema de carga (`AnimationMixerSystem`) no requiere cambios ya que funciona con cualquier ruta
- La interfaz de debugger ahora refleja la estructura organizacional que ya exist√≠a en el sistema de archivos
