# JDG-069 - Revisión a fondo de documentación (README principal -> árbol de docs)

## Descripción de la Tarea
Realizar una revisión completa y sistemática de la documentación del proyecto empezando desde el README principal y bajando por todos los READMEs y documentos en `docs/`, `instructions/`, `frontend/src/*/README.md` y `backend/*/README.md`. El objetivo es garantizar que:

- Las rutas, referencias y enlaces internos son válidos.
- No existen documentos obsoletos o referencias a archivos eliminados (p. ej. `docs/comparacion-hexagonal-ddd.md`) sin ser marcados/archivados.
- Los READMEs de módulos (frontend/ backend / domain / ports / rendering / ecs / terrain / adapters) describen claramente la responsabilidad del módulo y cómo usarlo.
- Las instrucciones de bootstrap, creación de ports, y pasos de despliegue son correctas y actuales.

**Nota importante:** Este plan incluye también una revisión funcional a fondo del juego (playthrough / pruebas de usuario) que deberá ejecutar el responsable del producto/equipo. El objetivo de esa revisión es detectar fallos funcionales o de documentación que generen nuevos tickets; los resultados se incorporarán al informe final.

**Comportamiento actual:** A simple vista funciona, pero hay errores de carga de módulos (404) y cierta documentación desactualizada/duplicada.

**Comportamiento esperado:** Documentación limpia, enlaces válidos, archivos obsoletos archivados o marcados como deprecated, y un checklist de verificación con resultado documentado.

## Criterios de Aceptación

1. [ ] README principal actualizado y sin enlaces rotos (locales o relativos).
2. [ ] Cada carpeta principal (`frontend/`, `backend/`, `docs/`, `instructions/`) tiene un README claro y actualizado.
3. [ ] `instructions/pending-tickets.md` refleja el estado real de tickets y no contiene entradas obsoletas.
4. [ ] Archivos obsoletos están marcados "DEPRECATED" y movidos a `docs/archived/` o eliminados tras aprobación; ninguna referencia externa queda colgando.
5. [ ] Se documenta en un archivo `instructions/revision-JDG-069.md` el resultado de la revisión (OK / lista de incidencias).

## Contexto del Proyecto

### Proyecto(s) Afectado(s)
- [x] Frontend (Three.js, estructura hexagonal + ECS)
- [x] Backend (FastAPI, DDD/Hexagonal)
- [x] Documentación (docs/, instructions/, READMEs)

### Tecnologías Involucradas
- Markdown, JSDoc, rutas relativas del servidor (servir con Docker/nginx), procesos de build (si aplica).

## Pasos de Implementación

### Paso 0: Revisión funcional a fondo del juego (por el stakeholder)
**Descripción:** Ejecutar una sesión de prueba completa del juego (bootstrap, carga de demo, movimiento, combate, terreno, carga de partículas, sistema de armas, animaciones, herramientas de debug F3/F6) para detectar fallos funcionales y puntos de documentación errónea. Documentar todas las incidencias encontradas y, si corresponde, crear tickets en `instructions/tickets/` para su resolución.
**Responsable:** Stakeholder / QA 

### Paso 1: Inventario y copia de seguridad
**Descripción:** Generar un inventario de todos los archivos de documentación y crear una copia de seguridad (zip) antes de hacer cambios.
**Archivos a crear/modificar:**
- `instructions/revision-JDG-069-inventory.json` (listado de paths y tamaño/fecha)
**Notas:** Usar `rg`/`rg --files` o equivalente para listar `README.md`, `docs/**/*.md`, `instructions/**/*.md`.

### Paso 2: Comprobación automática de enlaces y referencias
**Descripción:** Ejecutar una herramienta de comprobación de enlaces (link checker) sobre la carpeta del repo o, si no es posible, realizar búsquedas por patrones de import/require y referencias relativas.
**Archivos a modificar/crear:**
- `instructions/revision-JDG-069-links-report.md` (resultado del link checker)
**Detalles:** Buscar patrones comunes que han causado errores 404 en el navegador: imports relativos que suben demasiado (`../../../debug/logger.js`), rutas `src/...` mal resueltas por servidor, referencias a archivos eliminados (`docs/comparacion-hexagonal-ddd.md`).

### Paso 3: Revisar README principal
**Descripción:** Abrir `README.md` raíz y validar:
- Tabla de contenidos y enlaces
- Badges (build, coverage) apuntando a recursos válidos
- Instrucciones de bootstrap (crear ports, ejecutar docker) actualizadas
**Archivos a modificar:**
- `README.md` (si necesita correcciones)
**Notas:** Añadir sección "Documentación: árbol y responsabilidades" con links a `docs/` y `instructions/`.
**Sub-pasos sugeridos para README principal:**
- Asegurar que el árbol del proyecto incluye `frontend/` con una breve descripción (rendering, ECS, adapters, domain, ports).
- Actualizar la sección de "Frontend" para reflejar la estructura actual (`frontend/src/rendering/`, `frontend/src/adapters/`, `frontend/src/domain/`, `frontend/src/ports/`) y no reducirlo a "solo ECS".
- Añadir nota sobre cómo se sirve el frontend (nginx / docker-compose) y rutas relativas que debe usar el servidor estático.

### Paso 4: Revisar `instructions/` y `docs/`
**Descripción:** Para cada archivo en `instructions/` y `docs/`:
- Validar que las rutas referenciadas existen
- Actualizar nombres de archivos si fueron renombrados (ej. action plans, tickets)
- Marcar y mover archivos obsoletos a `docs/archived/` (NO borrar sin aprobación)
**Archivos a modificar/crear:**
- `docs/archived/README.md` (política de archivado)
- Mover `docs/comparacion-hexagonal-ddd.md` a `docs/archived/` y actualizar todas sus referencias.

### Paso 5: Revisar READMEs de módulos principales
**Descripción:** Revisar y uniformar los README en:
- `frontend/README.md` y `frontend/src/*/README.md` (terrain, rendering, domain, ports, adapters)
- `backend/README.md` y `backend/src/*/README.md`
- `instructions/README.md`
**Archivos a modificar/crear:**
- Actualizar cada README con: propósito, entradas principales, cómo ejecutar, contratos (referenciar `ports/contracts.js`), y estado (stable/experimental/deprecated).
**Sub-pasos sugeridos para READMEs del frontend:**
1. `frontend/README.md` — Revisar y actualizar descripción general (no reducir a "visualizador 3D simple"); incluir:
   - Responsabilidad (rendering, ECS, integración con backend, adapters y contracts)
   - Cómo levantar en Docker y en modo desarrollo
   - Enlaces a READMEs internos (`frontend/src/rendering/README.md`, `frontend/src/domain/README.md`, `frontend/src/ports/README.md`, `frontend/src/adapters/README.md`)
2. Recorrer `frontend/src/` en orden de árbol y revisar cada `README.md`:
   - `frontend/src/rendering/README.md`
   - `frontend/src/rendering/terrain/README.md`
   - `frontend/src/rendering/ecs/README.md`
   - `frontend/src/adapters/README.md`
   - `frontend/src/domain/README.md`
   - `frontend/src/ports/README.md`
   - `frontend/src/config/README.md`
   - `frontend/src/state/README.md`
   - `frontend/src/debug/README.md`
   - Cualquier otro README presente en subdirectorios (agregar al inventario si falta)
Para cada README comprobar:
- Propósito claro y responsabilidad
- Comandos de arranque y dependencias
- Referencias a contratos/ports o APIs externas correctamente enlazadas
- Estado del módulo (stable/experimental/deprecated)

### Paso 6: Validar referencias en el código
**Descripción:** Buscar imports de rutas que causaron 404 (ej. `/debug/logger.js`, `/src/loaders/*`) y corregir si apuntan a archivos movidos; donde corresponda, actualizar docs que describen la ubicación.
**Archivos a modificar/crear:**
- Código con imports corregidos (si aplica) — abrir PRs separados para cambios de código.
- `instructions/revision-JDG-069-code-fixes.md` (lista de cambios sugeridos).

### Paso 7: Archivar y documentación del resultado
**Descripción:** Crear `instructions/revision-JDG-069.md` con resumen: enlaces corregidos, archivos archivados, cambios propuestos, y acciones pendientes (tickets nuevos).
**Archivos a crear:**
- `instructions/revision-JDG-069.md`

## Consideraciones Técnicas
- No borrar archivos sin moverlos primero a `docs/archived/` y documentar la razón.
- Mantener backward-compatibility: si un README explica comandos de bootstrap, confirmar que los comandos funcionan exactamente.
- Para referencias de imports en el navegador, preferir rutas relativas desde `frontend/src/` que el servidor sirva correctamente bajo la estructura del build o el servidor estático (Docker/nginx).

## Testing / Verificación (manual)
1. Abrir `README.md` en navegador y seguir enlaces internos.
2. Abrir app localmente (Docker) y comprobar consola y Network para 404.
3. Revisar `instructions/revision-JDG-069-links-report.md` y confirmar que los errores han bajado a 0 o están documentados.

## Estimación
- Complejidad: Media\n+- Tiempo estimado: 3–6 horas (dependiendo de número de documentos y enlaces rotos)

## Dependencias
- Ninguna técnica. Requiere coordinación si se van a borrar documentos (equipo/owner approval).

## Output
- `instructions/revision-JDG-069-inventory.json` (inventario)
- `instructions/revision-JDG-069-links-report.md` (resultado link checker)
- `instructions/revision-JDG-069.md` (resumen de la revisión y acciones)

