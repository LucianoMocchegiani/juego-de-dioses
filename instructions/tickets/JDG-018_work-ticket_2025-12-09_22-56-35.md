# JDG-018 - Limpieza de código obsoleto en módulos backend

## Tipo
- [ ] Feature (nueva funcionalidad)
- [ ] Bugfix (corrección de error)
- [ ] Refactor (mejora de código sin cambiar funcionalidad)
- [ ] Performance (optimización)
- [ ] Documentation (documentación)
- [x] Chore (tareas de mantenimiento)

## Prioridad
- [ ] Alta (bloquea funcionalidad crítica)
- [x] Media (importante pero no bloqueante)
- [ ] Baja (mejora o nice-to-have)

## Descripción

### Problema/Requerimiento

Existen archivos y carpetas obsoletas en los módulos `database`, `models` y `storage` del backend que generan confusión y aumentan la superficie de mantenimiento. Es necesario identificar y eliminar código deprecado, scripts temporales y carpetas vacías.

### Comportamiento Actual

Existen los siguientes archivos/carpetas que pueden eliminarse:

**En `backend/src/database/`:**
- `tree_templates.py` - Marcado como DEPRECADO en el README, reemplazado por `templates/trees/`
- `cleanup_character_particles.py` - Script temporal de migración, solo mencionado en documentación histórica
- `check_character_position.py` - Script de debugging/verificación, no usado en código de producción
- `cleanup_duplicate_characters.py` - Script temporal, ya no se usa (fue eliminado en JDG-017 pero aparece en el listado)
- `download_test_model.py` - Script temporal, ya no se usa (fue eliminado en JDG-017 pero aparece en el listado)
- `update_human_scale.py` - Script temporal, ya no se usa (fue eliminado en JDG-017 pero aparece en el listado)

**En `backend/src/database/templates/`:**
- `templates/plants/` - Carpeta vacía (solo `__init__.py` con comentario)
- `templates/cuadrupedos/` - Carpeta vacía (solo `__init__.py` con comentario)

**Referencias incorrectas en documentación:**
- `README.md` menciona `seed_human_test.py` y `seed_character_test.py` pero estos archivos no existen

### Comportamiento Esperado

- Archivos deprecados eliminados
- Scripts temporales de migración eliminados (después de verificar que la migración ya se completó)
- Carpetas vacías eliminadas
- Documentación actualizada para reflejar la estructura real
- No hay referencias rotas en código activo
- La estructura del proyecto está limpia y solo contiene código activo

## Contexto Técnico

### Componentes Afectados
- [x] Backend (FastAPI)
- [ ] Frontend (Three.js)
- [x] Base de Datos (scripts y módulos)
- [ ] Cache (Redis)
- [ ] Docker/Infraestructura
- [x] Documentación

### Tecnologías Involucradas
- Python 3.11
- Markdown (documentación)

### Archivos/Componentes Principales

**Archivos a eliminar:**
- `backend/src/database/tree_templates.py` - DEPRECADO
- `backend/src/database/cleanup_character_particles.py` - Script temporal
- `backend/src/database/check_character_position.py` - Script de debugging

**Carpetas a eliminar:**
- `backend/src/database/templates/plants/` - Carpeta vacía (futuro no implementado)
- `backend/src/database/templates/cuadrupedos/` - Carpeta vacía (futuro no implementado)

**Archivos a modificar:**
- `backend/src/database/README.md` - Eliminar referencias a archivos que no existen y actualizar estructura

**Archivos que NO se eliminan (están en uso):**
- `seed_demo.py` - Usado en `main.py` para crear dimensión demo automáticamente
- `seed_character_with_model.py` - Script activo para crear personajes
- `terrain_builder.py` - Usado por `seed_demo.py`
- `terrain_utils.py` - Usado por `seed_character_with_model.py`
- Todos los schemas en `models/schemas.py` están en uso
- Todo en `storage/` está en uso

## Criterios de Aceptación

1. [ ] `tree_templates.py` ha sido eliminado
2. [ ] Scripts temporales (`cleanup_character_particles.py`, `check_character_position.py`) han sido eliminados
3. [ ] Carpetas vacías (`templates/plants/`, `templates/cuadrupedos/`) han sido eliminadas
4. [ ] El README de `database/` ha sido actualizado para reflejar la estructura real
5. [ ] Se eliminaron referencias a archivos que no existen (`seed_human_test.py`, `seed_character_test.py`)
6. [ ] No hay referencias rotas en código activo
7. [ ] La estructura del proyecto está limpia y organizada

## Detalles de Implementación

### Consideraciones Técnicas

- **Verificación de uso**: Antes de eliminar, verificar que ningún código activo importe estos archivos
- **Scripts de migración**: `cleanup_character_particles.py` puede haber sido necesario para una migración específica. Verificar si la migración ya se completó en todas las instancias antes de eliminar
- **Historial Git**: Los archivos eliminados estarán disponibles en el historial de Git si se necesitan en el futuro
- **Carpetas vacías**: Las carpetas `plants/` y `cuadrupedos/` están preparadas para el futuro pero no tienen implementación. Se pueden eliminar y recrear cuando se necesiten

### Dependencias

- No depende de otros tickets
- No bloquea otros tickets

## Testing

### Escenarios de Prueba

1. Verificar que el backend inicia correctamente después de eliminar archivos
2. Verificar que `seed_demo.py` funciona correctamente
3. Verificar que `seed_character_with_model.py` funciona correctamente
4. Verificar que no hay imports rotos en el código

### Casos Edge a Considerar

- Si algún script de migración fue necesario pero no se ejecutó, debería recrearse antes de eliminar
- Si hay referencias externas a estos scripts (documentación fuera del proyecto), deberían actualizarse

## Estimación

- **Complejidad:** Baja
- **Tiempo estimado:** 30-45 minutos
- **Notas:** 
  - Tarea simple de limpieza
  - Requiere verificación cuidadosa de imports y referencias
  - Actualizar documentación según necesidad

## Referencias

- **Relacionado con:** JDG-017 (Limpieza de documentación temporal)
- **Documentación relevante:** `backend/src/database/README.md`

## Notas Adicionales

- Los archivos eliminados permanecerán en el historial de Git
- Si algún script es necesario para migración pendiente, debe documentarse antes de eliminar
- El objetivo es mantener el proyecto limpio con solo código activo

